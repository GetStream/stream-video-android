# IncomingCall

The component behaves the same as [`OutgoingCall`](../02-outgoing-call), but shows different UI and a different call state. You can use the component in the same two ways, the bound that only needs the `CallViewModel`:

```kotlin
@Composable
public fun IncomingCallContent(
    viewModel: CallViewModel,
    modifier: Modifier = Modifier,
    onBackPressed: () -> Unit,
    onCallAction: (CallAction) -> Unit = viewModel::onCallAction,
)
```

And the second, stateless option is the `IncomingCall` composable:

```kotlin
@Composable
public fun IncomingCall(
    participants: List<CallUser>,
    callType: CallType,
    isVideoEnabled: Boolean,
    modifier: Modifier = Modifier,
    showHeader: Boolean = true,
    onBackPressed: () -> Unit,
    onCallAction: (CallAction) -> Unit,
)
```

Both allow you to override:

* **onBackPressed**: Handler that notifies of the back pressed actions to show the participants list or go back if it is not open.
<!-- TODO link call actions -->
* **onCallAction**: Handler that notifies that user performed some kind of a `CallAction`.

The difference is that the stateless components enables you to define the states which will be shown on the screen:

* **callType**: Whether the call is video or audio. `CallType.VIDEO` specifies both audio and video whereas `CallType.AUDIO` will be just an audio call without the video capabilities.
* **participants**: The list of `CallUser`s which are participating in the call.
* **callMediaState**: The state which contains whether the camera, microphone or speaker are off or on.
* **isVideoEnabled**: Whether the video should be enabled when entering the call or not.

Both of the components will handle showing an incoming call screen in different states depending on the number of participants.

| One to one | Group | Group plus |
| --- | --- | --- |
| ![OneToOne](../../../../assets/compose_incoming_call_one_to_one.png) | ![Group](../../../../assets/compose_incoming_call_group.png) | ![GroupPlus](../../../../assets/compose_incoming_call_group_plus.png) |
